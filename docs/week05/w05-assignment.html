<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CSE 121B | W05: Programming Tasks</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../styles/course.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/ir-black.min.css">

</head>

<body>
  <header>
    <div class="page">
      <h1>CSE 121B<span id="coursetitle">: JavaScript Language</span></h1>
      <img src="../images/byui-logo.svg" alt="BYU-I logo" class="logo">
    </div>
  </header>
  <main class="page">
    <nav>
      <span><a href="../">Home</a></span>
      <span><a href="../week01/">W1</a></span>
      <span><a href="../week02/">W2</a></span>
      <span><a href="../week03/">W3</a></span>
      <span><a href="../week04/">W4</a></span>
      <span class="active"><a href="../week05/">W5</a></span>
      <span><a href="../week06/">W6</a></span>
      <span><a href="../week07/">W7</a></span>
    </nav>
    <h2>W05: Programming Tasks</h2>
    <p></p>
    <h3>Instructions</h3>
    <h4 class="step">Setup</h4>
    <ol>
      <li>Download the <a href="../taskfiles/w05-task.zip">starter files</a> (2). Place the
        <code>w05-task.html</code> file on the root <code>cse121b</code> folder and the
        <code>w05-task.js</code> file in the <code>scripts</code> folder.
      </li>
    </ol>
    <h4 class="step">Review the Public Temple Data</h4>
    <ol>
      <li>Navigate to this <a
          href="https://byui-cse.github.io/cse121b-ww-course/resources/temples.json"
          target="_blank">temple JSON file</a> by clicking on the link. Your browser will handle the
        parsing of the data to make it readable.</li>
      <li>Review the temple data format and naming structure.</li>
    </ol>
    <div class="callout info">
      Complete the following steps in the w05-task.js file. Do <strong>not</strong> alter the
      w05-task.html file.
    </div>
    <h4 class="step">Declare Global Variables</h4>

    <ol>
      <li>Declare a <code>const</code> variable named <code>templesElement</code> that references
        the HTML div element that eventually will be populated with temple data.</li>
      <li>Declare a global empty array variable to store a list of temples named
        <code>templeList</code>.
      </li>
    </ol>

    <h4 class="step">Function: displayTemples()</h4>
    <figure class="floatright">
      <img src="../images/w05-task-card-example.png" alt="Example Temple Card Output">
      <figcaption>Figure 1: Example screenshot of temple card.</figcaption>
    </figure>
    <p class="callout info">This function will build a temple display "card" for each item in the
      temple list passed to the function.</p>
    <ol>
      <li>
        Declare a function expression using <code>const</code> named <code>displayTemples</code>
        that uses an arrow function to accept a list of temples as an array argument.
        <details>
          <summary>Check Your Understanding</summary>
          <pre><code class="javascript">const displayTemples = (temples) =&gt; {</code></pre>
        </details>
      </li>
      <li>Process each temple in the temple array using a <strong>forEach</strong> method and do the
        following for each temple item:
        <ol>
          <li>Create an HTML <code>&lt;article&gt;</code> element (<code>createElement</code>).</li>
          <li>Create an HTML <code>&lt;h3&gt;</code> element <strong>and</strong> add the temple's
            <code>templeName</code> property to this new element.
          </li>
          <li>Create an HTML <code>&lt;img&gt;</code> element <strong>and</strong> add the temple's
            <code>imageUrl</code> property to the <code>src</code> attribute <strong>and</strong>
            the temple's
            <code>location</code> property to the <code>alt</code> attribute.
          </li>
          <li>Append the <code>&lt;h3&gt;</code> element and the <code>&lt;img&gt;</code> element to
            the <code>&lt;article&gt;</code> element as children. (<code>appendChild</code>)</li>
          <li>Append the <code>&lt;article&gt;</code> element to the global
            <code>templesElement</code> variable declared in Step 2.
            <details>
              <summary>Check Your Understanding</summary>
              <pre><code class="javascript">templesElement.appendChild(article);</code></pre>
            </details>
          </li>
        </ol>
      </li>
    </ol>
    <h4 class="step">Function: getTemples()</h4>
    <p class="callout info">Get JSON temple data using fetch().</p>
    <ol>
      <li>Create another function expression called <code>getTemples</code>. Make it an
        <code>async</code> anonymous, arrow function.
        <details>
          <summary>Check Your Understanding</summary>
          <pre><code class="javascript">const getTemples = async () =&gt; {</code></pre>
        </details>
      </li>
      <li>In the function, declare a <code>const</code> variable named <code>response</code> that
        <code>await</code>s the built-in <code>fetch</code> method calling the temple data, absolute
        URL given in Step 2 above.
        <details>
          <summary>Check Your Understanding</summary>
          <pre><code class="javascript">const response = await fetch("https://byui-cse.github.io/cse121b-ww-course/resources/temples.json");</code></pre>
        </details>
      </li>
      <li>Convert your fetch response into a JavaScript object (<code>.json</code>) and assign the
        result to the <code>templeList</code> global array variable you declared in Step 3 above.
        Make sure the
        the execution of the code <strong>waits</strong> here as well until it finishes.
        <div class="callout info">
          üí°If you are stuck with any of these steps, consider using the learning activity materials
          provided.
        </div>
      </li>

      <li>The last statement in the <code>getTemples</code> function calls the
        <code>displayTemples</code> function and passes it the list of temples
        (<code>templeList</code>).
        <div class="callout info">
          üí°A good idea here is to test your code by calling the <code>getTemples</code> function at
          the end of your JavaScript file. This will make sure that your code works before you move
          on to the next step. You can <code>console.log(templeList)</code> to review the results.
        </div>
      </li>
    </ol>
    <h4 class="step">Function: reset()</h4>
    <p class="callout info">Clear the displayed list of temples.</p>
    <ol>
      <li>Declare a function expression named <code>reset</code> that clears all of the
        <code>&lt;article&gt;</code> elements from the <code>templesElement</code>.
      </li>
    </ol>
    <h4 class="step">Function: filterTemples()</h4>
    <p class="callout info">Sort the list of temples by the selected value of the HTML select
      element with an ID of <code>filtered</code>. The preset selections include temples located in
      the state of Utah, those outside the state of Utah, and temples built before 1950 on the list.
    </p>
    <ol>
      <li>Declare a function expression named <code>filterTemples</code>.</li>
      <li>The function should accept a argument in a parameter named <code>temples</code>.</li>
      <li>In this function, first call the <code>reset</code> function to clear the output.</li>
      <li>Define a variable named <code>filter</code> that obtains the <code>value</code> of the
        HTML element with the ID of <code>filtered</code> (The pull-down menu).</li>
      <li>Use a <code>switch</code> statement that uses the <code>filter</code> value as the
        selector responding to four (4) cases.</li>
      <li>For each case, call the <code>displayTemples</code> function using an filter statement
        that filters the <code>temples</code> parameter for the four options provided.
        <ol>
          <li>"utah": filter for temples where the <code>location</code> contains "Utah" as a
            string.</li>
          <li>"nonutah": filter for temples where the <code>location</code> does not contain "Utah"
            as a string.</li>
          <li>"older": filter for temples where the <code>dedicated</code> date is before 1950.
            (compare versus <code class="javascript">new Date(1950, 0, 1)</code>).
          </li>
          <li>"all": no filter. Just use <code>temples as the argument.</code></li>
        </ol>
      </li>
    </ol>
    <h4 class="step">Event Listener: filterTemples Element change</h4>
    <ol>
      <li>Add a <code>change</code> event listener to the HTML element with an ID of
        <code>filtered</code> that calls the <code>filterTemples</code> function and sends a arrow
        function
        result with the <code>templeList</code> as the argument.
        <details>
          <summary>Check Your Understanding</summary>
          <pre>
    <code class="javascript">document.querySelector("#filtered").addEventListener("change", () =&gt; { filterTemples(templeList) });</code></pre>
        </details>
      </li>
    </ol>

    <figure>
      <img src="../images/w05-task-example-wide.png" alt="W05 Programming Tasks Example Output"
        loading="lazy" width="500">
      <figcaption>Figure 2: Example Output</figcaption>
    </figure>

    <h3>Testing</h3>
    <ol>
      <li>Verify that you are calling <code>getTemples()</code> at the bottom of the JavaScript
        file.</li>
      <li>Test your work by using Live Server and debug as needed.</li>
    </ol>

    <h3>Submission</h3>
    <ol>
      <li>Commit and push your work to GitHub.</li>
      <li>Submit the GitHub Pages rendered URL in Canvas..</li>
    </ol>
    <h3>Stretch</h3>
    <p>Add additional options such as sorting the temples alphabetically.</p>
    <hr>
    <nav>
      <span><a href="index.html">‚Ü™Ô∏è W05 Content</a></span>
      <span><a href="https://byui.instructure.com/calendar">Back to üí´ Canvas</a></span>
    </nav>
  </main>

  <footer>
    <p>Copyright &copy; Brigham Young University-Idaho | All rights reserved</p>
  </footer>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
  <script src="../scripts/preventCodeSelect.js"></script>
</body>

</html>